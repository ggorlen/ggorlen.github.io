<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Terrain generator</title>
    
    <!-- include jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js">
    </script>
    
    <!-- include Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" 
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous">
    </script>
 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  
    <style>
    
      body {
        background-color: black;
        font-family: monospace, "courier new";
        color: white;
        margin: 10px;
      }
      
      a, a:hover, a:visited, a:active {
        color: #fff;
      }
      
      #output {
        font-family: "courier new";
        font-size: 16px;
        color: white;
      }
      
      #output table {  
        border-collapse: collapse;
        table-layout: fixed;
        width: 1px;
      }
      
      #output th, td {
        overflow: auto;
        width: 10px;
        border: 0px;
        padding: 0px;
        cellspacing: 0px;
      }
      
      input {
        color: black;
        text-align: right;
      }
    </style>
  </head>
  <body>
    <h2>ASCII terrain generator</h2>
    <form id='terraininput'>
      h: <input type='text' size='3' name='height' type="number" value=30>
      w: <input type='text' size='3' name='width' type="number" value=100>
      homogeneity: <input type='homogeneity' size='3' type="number" name='homogeneity' value=45>
      <input type='submit' onclick='process();' value='Submit' autofocus>
    </form>
    <br>
    <div id="output"></div>

    <!-- jQuery script to prevent forms from refreshing the page on submit -->
    <script>
      $(document).ready(function() {
        $(function() {
          $("form").submit(function() { return false; });
        });
      });
    </script>
    <script src="terrain.js"></script>
    <script>
    
      // handles the input form
      function process() {
        height = parseInt(document.forms['terraininput'].elements['height'].value);
        width = parseInt(document.forms['terraininput'].elements['width'].value);
        homogeneity = parseInt(document.forms['terraininput'].elements['homogeneity'].value);
        if (!isNaN(height) && !isNaN(width) && !isNaN(homogeneity)) {
          init();
          setTerrain();
          document.getElementById("output").innerHTML = toHTML();
        }
        else {
          document.getElementById("output").innerHTML = "Invalid input!";
        }
      }
    </script>
  </body>
</html>